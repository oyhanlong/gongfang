<!doctype html>
<html >
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<title>百艺工坊</title>
		<meta name="keywords" content="网站建设，自助建站，免费网站，免费建站，免费做网站，网页制作，线上营销，互联网营销，公众号助手">
		<meta name="description" content="凡科网（股票代码：832828），1500万用户营销之选，低成本高效益，免费注册即拥“电脑+手机+微信”网站等，一站式的配套线上营销工具，海量免费自助建站网站模板供你选择，集建站、互动、微传单、轻站小程序、公众号助手、快图等多种业务，让企业互联网营销更加轻松。">
		<meta name="author" content="广州凡科互联网科技股份有限公司"/>
		<meta name="copyright" content="广州凡科互联网科技股份有限公司版权所有"/>
		<meta name="360-site-verification" content="524ffbb4766f904fe5671b284356b7b8" />
		<meta property="wb:webmaster" content="7d3e25852da2f717" />
		<meta http-equiv="Cache-Control" content="no-transform" />
		<link rel="canonical" href="http://www.fkw.com/"/>
		<meta content="always" name="referrer">
<link href="css/comm.min.css" rel="stylesheet" type="text/css" />
<!-- bds js-->
<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=378248" ></script>
<script type="text/javascript" id="bdshell_js"></script>



<!--fkw-->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?337c9c93ccaf12bf23e76a24b41f3ab8";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- pinyou find code start -->
<script type="text/javascript">
var _py = _py || [];
_py.push(['a', 'bts..zT6q8oc8Gm5sEIfcFR_iB0']);
_py.push(['domain','stats.ipinyou.com']);
_py.push(['e','']);
-function(d) {
	var s = d.createElement('script'),
	e = document.getElementsByTagName('script')[0]; e.parentNode.insertBefore(s, e),
	f = 'https:' == location.protocol;
	s.src = (f ? 'https' : 'http') + '://'+(f?'fm.ipinyou.com':'fm.p0y.cn')+'/j/adv.js';
}(document);
</script>
<noscript><img src="picture/adv.gif" style="display:none;"/></noscript>
<!-- pinyou find code end -->

<!-- 360 count start-->
<!--<script type="text/javascript" src="js/4092.js"></script>-->
<!-- 360 count end -->

<!-- zhihui transform code start -->
<!--<script type="text/javascript"  src="js/page_duration.js" arguments="{'cpid':'700018814','t':'w'}" id="ad_statistic_kit" ></script>-->
<!--<div style="text-align:center;color:black;width:110px;line-height: 30px;background:#d9b12e"><span style="vertical-align:middle;">网站统计</span></div>-->
<!-- zhihui transform code end -->



<script type="text/javascript">
(function() {
var fs = document.createElement("script");
fs.src = "//fe.faisys.com/jssdk_1_0/js/hawkEye.min.js?v=201809261929";
window.FAI_HAWK_EYE = {};
window.FAI_HAWK_EYE.jssdk_report_url = "//report.fkw.com/js/report";
window.FAI_HAWK_EYE.jssdk_appid = 1000;
window.FAI_HAWK_EYE.fai_aid = 0;
window.FAI_HAWK_EYE.fai_bs_aid = 0;
window.FAI_HAWK_EYE.fai_bs_id = 0;
window.FAI_HAWK_EYE.fai_bs_wid = 0;
var s = document.getElementsByTagName("script")[0];
s.parentNode.insertBefore(fs, s);
})();</script>


		<style>
			html{overflow: hidden;}
			html, body{height: 100%;}
			.regFrame{height: 100%; width: 100%;}
		</style>

	</head>

	<body class="fkhomeReg">

<script type="text/javascript" src="js/jquery-core.min.js"></script>
<script type="text/javascript" src="js/jquery-ui-core.min.js"></script>
<script type="text/javascript" src="js/fai.min.js"></script>
<link href="css/servicebox.min.css" rel="stylesheet" type="text/css" />

<link type="text/css" href="css/fk_service.min.css" rel="stylesheet"><script type="text/javascript" src="js/fk_service.min.js"></script>
<script>var HEADER_HOME_URL = '//fe.faisys.com/header_1_0', HEADER_DOMAIN_NAME = '//fe.faisco.cn/header_1_0', isHEADERDebug = false;</script><script type="text/javascript" src="js/header.min.js"></script>
<script type="text/javascript">var bdShare = {};bdShare.root="//fe.faisys.com";</script><script type="text/javascript" src="js/share.js"></script>
<script type='text/javascript' src='js/_dog.js'></script>

<script type="text/javascript">
var portalHost = "i.fkw.com";
var _homeHost = "www.fkw.com";
$(function(){
	// view页也要使用到百度分享，IE下JS会提前加载
	/*if (document.getElementById("bdshell_js")) {
		document.getElementById("bdshell_js").src = "//bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000);
	}*/

	// 客服插件
	FkService.showFkService({
		type:"fkw",
		srcId:0,
		agentUrl:"http://i.fkw.com/count/agentCount.jsp?s=1&_ta=3668",
	});

});
</script>


<!-- cnzz stat -->
<!-- cnzz stat end -->



<script type="text/javascript">
$(function(){

	$(".nav").hover(function(){
		$(".nav").removeClass("navHover");
		$(this).addClass("navHover");
	}, function(){
		$(this).removeClass("navHover");
	});

	$(".webRegCount .weixin").hover(function(){
		$(this).attr('_mouseIn', 1);
		var div = $(this).find(".weixinContent").show();
		div.show();
	}, function(){
		$(this).attr('_mouseIn', 0);
		setTimeout(function(){
			var mouseIn = parseInt($('.webRegCount .weixin').attr('_mouseIn'));
			if(mouseIn == 0){
				$('.webRegCount .weixin').find(".weixinContent").hide();
			}
		}, 100);
	});
	$(".webRegCount .weixin .weixinContent").hover(function(){
		$('.webRegCount .weixin').attr('_mouseIn', 1);
	}, function(){
		$('.webRegCount .weixin').attr('_mouseIn', 0);
		setTimeout(function(){
			var mouseIn = parseInt($('.webRegCount .weixin').attr('_mouseIn'));
			if(mouseIn == 0){
				$(".webRegCount .weixin .weixinContent").hide();
			}
		}, 100);
	});

	$(".webRegCount .phone").hover(function(){
		$(this).attr('_mouseIn', 1);
		var div = $(this).find(".phoneContent").show();
		div.show();
	}, function(){
		$(this).attr('_mouseIn', 0);
		setTimeout(function(){
			var mouseIn = parseInt($('.webRegCount .phone').attr('_mouseIn'));
			if(mouseIn == 0){
				$('.webRegCount .phone').find(".phoneContent").hide();
			}
		}, 100);
	});
	$(".webRegCount .phone .phoneContent").hover(function(){
		$('.webRegCount .phone').attr('_mouseIn', 1);
	}, function(){
		$('.webRegCount .phone').attr('_mouseIn', 0);
		setTimeout(function(){
			var mouseIn = parseInt($('.webRegCount .phone').attr('_mouseIn'));
			if(mouseIn == 0){
				$(".webRegCount .phone .phoneContent").hide();
			}
		}, 100);
	});

	footAutoHeight();
});

function footAutoHeight(){
	if ($('.footLineGray').length != 0){
		var footHeightDifference = document.documentElement.clientHeight - ($('.footLineGray').offset().top + 2 + $('.webFoot').height());
		if ( footHeightDifference > 0 ){
			$('#autoHeightDiv').css("height", footHeightDifference);
		}
	}
}

//博客详情页绑定图片点击后大图全屏显示
$(".viewDetail img").click(function(){
    //覆盖全屏
    $('.popBox').show();

    //获取图片
    var img =new Image();
    img.src=$(this)[0].src;
    var bei=img.height/img.width;
    var autoWidth=window.innerWidth*0.8;
    var autoHeight=window.innerHeight*0.8;
    var resultType=0;


    //不考虑这么多了，也就直接按下面比例大的0.8计算
    /*if(img.height>autoHeight && img.width>autoWidth){
        if(img.height/autoHeight > img.width/autoWidth){//按照高度0.8计算，宽度自适应
            resultType=2;
        }else{//按照宽度0.8计算，高度自适应
            resultType=1;
        }
    }else if(img.height>autoHeight){//按照高度0.8计算，宽度自适应
        resultType=2;
    }else if(img.width>autoWidth){//按照宽度0.8计算，高度自适应
        resultType=1;
    }else if(img.width*2 <= autoWidth && img.height*2<=autoHeight){//图片太小，两倍都小于我们的适应高度，扩大两倍居中
        resultType=3;
    }else{//不大不小,按比例大的0.8计算
        if(img.width/autoWidth<=img.height/autoHeight){//按照高度0.8计算宽度自适应
             resultType=2;
        }else{//按宽度0.8计算，高度自适应
             resultType=1;
        }
    }*/

    if(img.width/autoWidth<=img.height/autoHeight){//按照高度0.8计算宽度自适应
         resultType=2;
    }else{//按宽度0.8计算，高度自适应
          resultType=1;
    }
    if(resultType==1){
        $('.previewImg').width(autoWidth);
        $('.previewImg').height(autoWidth*bei);
        $('.previewImg').css('margin-top',(-0.5*autoWidth*bei)+'px');
        $('.previewImg').css('margin-left',(-0.5*autoWidth)+'px');
    }else if(resultType==2){
        $('.previewImg').height(autoHeight);
        $('.previewImg').width(autoHeight/bei);
        $('.previewImg').css('margin-top',(-0.5*autoHeight)+'px');
        $('.previewImg').css('margin-left',(-0.5*(autoHeight/bei))+'px');
    }else{

    }
    $('.previewImg').css('background-image','url('+img.src+')');
});

$('.popBox').click(function(){
    $('.popBox').hide();
})

</script>



<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<title>百艺工坊</title>
	<meta name="keywords" content="凡科建站会员注册,免费网站注册,开通免费网站,免费空间">
	<meta name="description" content="注册凡科建站，立即拥有免费的企业网站和免费空间,凡科建站是企业网站建设第一品牌，免费提供企业网站，拥有丰富、精美的网站主题，操作简单，网站功能强大，是中小企业网站建设的最佳选择！">
	<meta name="author" content="凡科互联网科技股份有限公司"/>
	<meta name="copyright" content="凡科互联网科技股份有限公司版权所有"/>
	<link href="css/fkreg.min.css" rel="stylesheet" type="text/css" />
	<style type="text/css">
		html{min-width: 980px;}
	</style>
</head>

<body style="display:none;">

		<div class="m-header-new" style="display:none;">
			<div class="fkw-topbar-box">
				<a class="fkw-logo" target="_blank"  title='百艺工坊' href='http://www.baiyigongfang.com'></a>
				<div class="f-topbar-right">
					<a class="slogan"  style="display:inline-block" biz="none" target="_blank"  title='百艺工坊' href='http://www.baiyigongfang.com'>
						<i></i><font>百艺工坊：陶工坊·木工坊·纸工坊·农工坊</font>
					</a>

				</div>
			</div>
		</div>



	<div class="m-regForm">

		<div class="textLine">
			<span>注册用户</span>
			<span class="number">17,248,592<span class="font12">+</span></span>
			<span class="sep"></span>
			<span>安全运行</span>
			<span class="number">2965<span class="font12">天+</span></span>
			<span class="sep"></span>
			<span>覆盖行业</span>
			<span class="number">100<span class="font12">+</span></span>
		</div>

		<div class="regBox">
			<div class="u-borderTop u-borderTop-new">
				<div class="userRegTips">
					<div class="userRegDesc">
						帐号密码注册
						<span class='tipTriangle'></span>
						<span class='tipTriangle2'></span>
					</div>
					<span style=""><a class="login_UersCode" href="javascript:;" onclick="userReg();"></a></span>
				</div>
			</div>
			<div class="content" id="contentId">
				<div class="u-input">
					<label>帐号</label><!--这种注释写法是为了去除换行产生的4px的间隔
					--><div class="inputWrapper">
					<input type="text" placeholder="请输入手机号码或邮箱" autocomplete="new-password" id="acct" maxlength="34">
				</div><!--
					--><span class="msg">
						<i></i><font></font>
					</span>
				</div>
				<div class="u-input">
					<label>密码</label><!--
					--><div class="inputWrapper">
						<input type="password" placeholder="4-20个字符，区分大小写" autocomplete="new-password" id="pwd" onpaste="return false;" maxlength="20">
						<i class="vis z-on"></i>
					</div><!--
					--><span class="msg">
						<i></i><font></font>
					</span>
				</div>
				<div class="u-input" id="verifyCodeLine" >
					<label>验证码</label><!--
					--><div class="inputWrapper">
						<input class="short" type="text" placeholder="请输入验证码" autocomplete="off" id="verifyCode" maxlength="4">
						<button class="button" id="verifyCodeBtn">获取验证码</button>
					</div><!--
					--><span class="msg">
						<i></i><font id="verifyCodeMsg"></font>
					</span>
				</div>


				<div id="resendNotice1" class="u-resendNotice" style="display: none;">
					若仍未收到验证码，请点击> <a target="_blank" href="/qq.jsp?s=209">联系客服</a>
				</div>




				<div class="m-mobiVerify">
					<div class="title">
						<span class="line"></span>
						<font>为保障您的帐号安全，请进行手机号验证</font>
					</div>
					<div class="u-input">
						<label>手机号码</label><!--
						--><div class="inputWrapper">
							<input type="text" placeholder="请输入手机号进行验证" autocomplete="new-password" id="mobile" maxlength="11">
						</div><!--
						--><span class="msg">
							<i></i><font></font>
						</span>
					</div>
					<div class="u-input">
						<label>验证码</label><!--
						--><div class="inputWrapper">
							<input class="short" type="text" placeholder="请输入短信验证码" autocomplete="off" id="mobileCode" maxlength="4">
							<button class="button" id="mobileCodeBtn">获取验证码</button>
						</div><!--
						--><span class="msg">
							<i></i><font id="mobileCodeMsg"></font>
						</span>
					</div>
					<div id="resendNotice2" class="u-resendNotice" style="display: none;">
						若仍未收到验证码，请点击> <a target="_blank" href="/qq.jsp?s=209">联系客服</a>
					</div>
				</div>


					<div class="codeTips">
						<span class="codeTips-triangle-tips"></span>
						<span class="tips" style="padding-top: 17px;">无法获取手机验证码？请</span>
						<span class="tips">1.确认手机号码无欠费</span>
						<span class="tips">2.打开“飞行模式”</span>
						<span class="tips">3.静候 2 秒关闭“飞行模式”</span>
						<span class="tips">4.在此获取验证码</span>
						<span class="tips">或者，电话联系客服：400-039-9000</span>
					</div>


				<div class="regService">
					<label>
						<label class="u-checkBox">
							<input type="checkbox" id="agree"><i></i>
						</label>
						我同意<a href="./xieyi.html" target="_blank" rel="nofollow">《百艺工坊官网注册协议》</a>
					</label>
				</div>
			</div>
			<div class="bottomBar">
				<font class="msg" id="regMsg"></font>
				<button class="u-bigBtn" id="regBtn">免费注册</button>
			</div>
			<div class="toLogin">
				已有帐号？<a hidefocus="true" href="./index.html" onClick="mRegForm.login();">直接登录</a>
			</div>

		</div>
	</div>



	<div class="m-wave">
		<ul class="wave-item item1">
			<li class="wave-bg wave-bg1"></li>
			<li class="wave-bg wave-bg1"></li>
		</ul>
		<ul class="wave-item item2">
			<li class="wave-bg wave-bg2"></li>
			<li class="wave-bg wave-bg2"></li>
		</ul>
		<ul class="wave-item item3">
			<li class="wave-bg wave-bg3"></li>
			<li class="wave-bg wave-bg3"></li>
		</ul>
		<div class="footer-new">

			公网安备 18036723号-1 | Copyright &copy; 2013-2018 baiyigongfang.com. All Rights Reserved. 百艺工坊 版权所有
			<!-- <a target="_blank" hidefocus="true" href="http://www.itrust.org.cn/Home/Index/itrust_certifi?wm=1639937559" class="fk-trustLink1"></a>
			<a class="fk-trustLink2" href='https://credit.szfw.org/CX20180326037663800199.html' target='_blank'></a>
			<a href="https://ss.knet.cn/verifyseal.dll?sn=e17030244010066816266j000000&pa=111332 " tabindex="-1" class="fk-trustLink3" target="_blank"></a> -->
		</div>
	</div>




	<script type="text/javascript" src="js/fai.min.js"></script>
	<script type="text/javascript" src="js/autocompleteemail.min.js"></script>

		<script type="text/javascript" src="js/faiencrypt.min.js"></script>

		    <script type="text/javascript" src="js/faiencrypt1.min.js"></script>



	<script type="text/x-template" id="t-imgVerify">
		<div class="m-imgVerify">
			<span class="close"></span>
			<div class="title">请先完成下方验证</div>
			<div class="inputLine">
				<input type="text" maxlength="4" class="codeVal" placeholder="请输入右侧验证码"><!--
				--><img class="codeImg">
				<span class="refreshBtn">换一张</span>
			</div>
			<div class="msg"></div>
			<button class="u-bigBtn confirmBtn">确定</button>
		</div>
	</script>
	<script type="text/x-template" id="t-questionnaire">
		<div class="m-questionnaire">
			<div class="title">您放弃注册的原因是？</div>
			<div class="reason">
				<i id="reason-radio-reason1" class="radio-no"></i>
				<input type="radio" name="checkReason" id="reason1" class="checkReason">
				<label class="lableReason" for="reason1">想了解更多信息，暂不</label>
				<i id="reason-radio-reason2" class="radio-no" style="margin-left: 150px;"></i>
				<input type="radio" name="checkReason" id="reason2" class="checkReason" style="margin-left: 154px;">
				<label class="lableReason" for="reason2">现在不方便，下次吧</label><br/>
				<i id="reason-radio-reason3" class="radio-no"></i>
				<input type="radio" name="checkReason" id="reason3" class="checkReason">
				<label class="lableReason" for="reason3">注册好麻烦，不想</label>
				<i id="reason-radio-reason4" class="radio-no" style="margin-left: 150px;"></i>
				<input type="radio" name="checkReason" id="reason4" class="checkReason" style="margin-left: 154px;">
				<label class="lableReason" for="reason4">不小心点进来的，88</label><br/>
				其他<br>
				<textarea class="otherReason" maxlength="60"></textarea>
			</div>
			<div class="btnPanel">
				<span class="commitBtn commitBtn_gray"></span>
			</div>
		</div>
	</script>
        <script type="text/javascript">


		var faiEncrypt_key = "MIGfMA0GCSqGSxx3DQEBAQUAA4GNADCBiQKBgQCBWNoG5LJ3u44Gs8PWs1MaNUQQ+mOmh+9zWdzSt3ORbmfCDvU+ssW/6QTTgXvWWx7+Wzq/a4fCCQp72zSqXeVhWkTVct9Hyp/iMo5K6qOEK76z9z+tP/u99X6qazeXGVMWKkPiyZT4mKAGd/U8Mph9Z1Z5kOluA7g7heq8PPlE9wIDAQAB";

		var unionAid = 0;
		var trackApp = 0;
		var trackParam = '';
		var trackAD = '';
		var kwId = 0;
		var audience = 0;
		var haoci_rec_word = '';
		var bidurl = '';
		var jump = 0;
		var cookieDomain = 'fkw.com';

		var Biz = {
			NONE: 'none',		//未知
			SITE: 'site',		//建站
			HD: 'hd',			//互动
			FLYER: 'flyer',		//微传单
			WXAST: 'wxast',		//公众号助手
			PROGRAM: 'program',	//小程序
			KTU: 'ktu'	//小程序
		};
		var biz = Biz.NONE;

		$(function(){
			//存储wx，qq注册来源业务，用于扫码回调时注册业务、注册成功回调
			// $.cookie("wxRegBiz",Biz.NONE,{expires: 7 ,path:'/' });
			$.cookie('wxRegBiz', Biz.NONE, {domain: 'fkw.com'});

			if(false){
				biz = Biz.SITE;
				//$.cookie("wxRegBiz",Biz.SITE,{expires: 7 ,path:'/' });
				$.cookie('wxRegBiz', Biz.SITE, {domain: 'fkw.com'});
			}else if(false){
				biz = Biz.HD;
				// $.cookie("wxRegBiz",Biz.HD,{expires: 7 ,path:'/' });
				$.cookie('wxRegBiz', Biz.HD, {domain: 'fkw.com'});
			}else if(false){
				biz = Biz.FLYER;
				// $.cookie("wxRegBiz",Biz.FLYER,{expires: 7 ,path:'/' });
				$.cookie('wxRegBiz', Biz.FLYER, {domain: 'fkw.com'});
			}else if(false){
				biz = Biz.WXAST;
				// $.cookie("wxRegBiz",Biz.WXAST,{expires: 7 ,path:'/' });
				$.cookie('wxRegBiz', Biz.WXAST, {domain: 'fkw.com'});
			}else if(false){
				biz = Biz.PROGRAM;
				// $.cookie("wxRegBiz",Biz.PROGRAM,{expires: 7 ,path:'/' });
				$.cookie('wxRegBiz', Biz.PROGRAM, {domain: 'fkw.com'});
			}else if(false){
				biz = Biz.KTU;
				// $.cookie("wxRegBiz",Biz.KTU,{expires: 7 ,path:'/' });
				$.cookie('wxRegBiz', Biz.KTU, {domain: 'fkw.com'});
			}

			mWave.init();
			mHeader.init(biz);
			mImgVerify.init(biz);
			mRegForm.init(biz);
			Log.init(biz);
			$('.u-input .msg').hide();
			$('body').show();

			//注册页-访问量。注意要在上面的Log.init()完了再log
			Log.log_visit();

			$("body").click(function (e) {
					var className = $(e.target).attr("class");
					if (className == "getTips") {
						$(".codeTips").show();
					}else{
						$(".codeTips").hide();
					}
			});

		});

		var mMask = (function(){
			return {
				show: function(){
					$('<div class="popupBg"></div>').appendTo($('body'));
				},
				remove: function(){
					$('.popupBg').remove();
				}
			}
		})();

		/* 波浪动画模块 */
		var mWave = (function(){
			var $dom = $('.m-wave');

			function init(){
				start($dom.find('.wave-item.item1'), 150000);
				start($dom.find('.wave-item.item2'), 140000);
				start($dom.find('.wave-item.item3'), 30000);
			}
			function start($target, speed){
				var halfWidth = parseInt($target.width() / 2);
				$target.animate({'marginLeft': - halfWidth + 'px'}, speed, 'linear', roll);
				function roll(){
					$target.css('marginLeft', 0);
					$target.animate({'marginLeft': - halfWidth + 'px'}, speed, 'linear', roll);
				}
			}
			return {
				init: init
			}
		})();
		/* 波浪动画模块 end */

		/* 顶部header模块 */
		var mHeader = (function(){
			var $dom = $('.m-header');

				$dom = $('.m-header-new');

			var biz = Biz.NONE;
			return {
				init: function(_biz){
					biz = _biz || Biz.NONE;
					show();
				}
			}
			/*
			 * 根据传入的产品类型参数biz，显示文字
			 */
			function show(){
				$dom.find('[biz]').hide();
				$dom.find('[biz~=' + biz +']').show();
				$dom.show();
			}
		})();
		/* 顶部header模块 end */

		/* 图形验证码 */
		var mImgVerify = (function(){
			var templateId = '#t-imgVerify';
			var $dom = null;
			var biz = Biz.SITE;
			var validateCodeRegType = 3;	//默认为建站 =====(用于判断显验证码的类型)=====
			return {
				init: function(_biz){
					biz = _biz;
					setBiz();
				},
				setBiz: setBiz,
				show: function(isMailAcct_mobile){
					$dom = $($(templateId).html());
					refresh();
					mMask.show();
					$dom.appendTo($('body'));
					$dom.find('.close').click(function(){
						close();
					});
					$dom.find('.codeImg, .refreshBtn').click(refresh);
					$dom.find('.confirmBtn').click(function(){
						var $this = $(this);
						if(checkCode()){
							var code = $.trim($dom.find('.codeVal').val());
							$this.attr('disabled', 'disabled');
							sendValidateCode(isMailAcct_mobile, code, null, function(){
								$this.removeAttr('disabled');
							});
						}
					});
					$dom.find('.codeVal').keydown(function(event){
						if(event.keyCode == 13 || event.which == 13){
				            $dom.find('.confirmBtn').click();
				            //IE9需要阻止enter键触发“获取验证码”按钮的点击，避免再次弹窗。（这里转移了focus都没用，很奇葩）
				            event.preventDefault();
				        }
					}).focus();
					//IE9需要异步触发focus()
					setTimeout(function(){
						$dom.find('.codeVal').focus();
					}, 0);
				},
				close: close,
				setMsg: setMsg,
				refresh: refresh
			}
			function refresh(){
				$dom.find('.codeImg').attr('src', 'fkRegValidateCode.jsp?' + parseInt(Math.random() * 1000) + '&validateCodeRegType=' + validateCodeRegType);
				$dom.find('.codeVal').focus();
			}
			function setBiz(_biz){
				biz = _biz;
				if(biz == Biz.HD){
					validateCodeRegType = 1;
				}else{
					validateCodeRegType = 3;
				}
			}
			function close(){
				$dom.remove();
				mMask.remove();
			}
			function setMsg(msg){
				var $msg = $dom.find('.msg').html(msg);
				if(msg){
					$msg.show();
				}else{
					$msg.hide();
				}
			}
			function checkCode(){
				var code = $.trim($dom.find('.codeVal').val());
				var msg = null;
				if(!code){
					msg = '请输入图片验证码';
				}else if(code.length != 4){
					msg = '请输入正确的图片验证码';
				}
				if(msg){
					setMsg(msg);
					$dom.find('.codeVal').focus();
					return false;
				}else{
					return true;
				}
			}
		})();
		/* 图形验证码 end*/

		/* 邮箱注册时的手机验证 */
		var mMobiVerify = (function(){
			var $dom = $('.m-mobiVerify');
			return {
				show: function(){
					$dom.show();
					$('html').css('min-height', '900px');

					$("#verifyCodeLine").hide();

				},
				hide: function(){
					$dom.hide();
					$('html').css('min-height', '710px');

					$("#verifyCodeLine").show();

				}
			}
		})();
		/* 邮箱注册时的手机验证 end */

		var mRegForm = (function(){
			var biz = Biz.NONE;
			var $dom = $('.m-regForm');

			var AcctCheckAjax = (function(){
				var isReady = false;
				var xhr = null;

				return {
					reset: function(){
						isReady = false;
						xhr && xhr.abort();
						xhr = null;
					},
					ready: function(callback){
						if(isReady){
							if(typeof callback == 'function'){
								callback();
							}
						}else{
							action(callback);
						}
					}
				}

				function action(callback){
					if(xhr){
						return false;	//避免重复请求
					}
					var $acct = $('#acct'),
						$uInput = $acct.closest('.u-input');
					var acctType = -1,
						acct = $acct.val();
					if(Fai.isMobile(acct)){
						acctType = 1;
					}else if(isEmail(acct)){
						acctType = 2;
					}
					showSuc($uInput, '正在检查帐号是否可用...');
					xhr = $.ajax({
			            type: "post",//使用post方法访问后台
			            url: '/ajax/reg_h.jsp',
			            data:"cmd=checkCacctNew&cacct=" + Fai.encodeUrl(acct) + "&acctType=" + acctType,
			            error: function(){
			            	showErr($uInput, '检验帐号失败，系统繁忙');
			            },
			            success: function(result){
			                var result = jQuery.parseJSON(result);
			                if(result.success) {
			                    if (result.existed) {
			                    	if(acctType == 1 ){
			                            showErr($uInput, '手机号码已验证过帐号，请<a hidefocus="true" href="javascript:;" onClick="mRegForm.login();">直接登录</a>');
			                    	}else if(acctType == 2 ){
			                            showErr($uInput, '邮箱已验证过帐号，请<a hidefocus="true" href="javascript:;" onClick="mRegForm.login();">直接登录</a>');
			                    	}
			                    	mMobiVerify.hide();
			                    } else {
			            			isReady = true;
			                    	showSuc($uInput);
			                    	if(typeof callback == 'function'){
			                    		callback();
			                    	}
			                    }
			                }else{
			                	showErr($uInput, result.msg);
			                }
			            }
			        });
				}
			})();

			var MobileVerifyAjax = (function(){
				var xhr = null;
				var mobile = '';
				var code = '';
				var verifiedMobile = '';
				var verifiedMobileList = [];

				return {
					check: check,
					getMobile: function(){
						return verifiedMobile;
					}
				}

				function check(callback){
					if(!checkMobile()){
						verifiedMobile = '';
						return false;
					}
					var $mobile = $('#mobile');
					var $mobileCode = $('#mobileCode');
					var $mobileCodeLine = $mobileCode.closest('.u-input');
					mobile = $mobile.val();
					code = $mobileCode.val();

					if(verifiedMobileList.indexOf(mobile) != -1){
						verifiedMobile = mobile;
						$mobileCodeLine.hide();
						$mobile.attr('disabled', 'disabled');
						xhr && xhr.abort();
						xhr = null;
						if(typeof callback == 'function'){
							callback(verifiedMobile);
						}
					}else{
						verifiedMobile = '';
						$mobileCodeLine.show();
						$mobile.removeAttr('disabled');
						if(code && checkMobileCode()){
							action(callback);
						}
					}
				}

				function action(callback){
					if(xhr){
						return false;	//避免重复请求
					}
					var $mobile = $('#mobile');
					var $mobileLine = $mobile.closest('.u-input');
					var $mobileCode = $('#mobileCode');
					var $mobileCodeLine = $mobileCode.closest('.u-input');

					var cacctVal = $.trim($('#acct').val());
				    var params = [];
				    params.push("cacct=" + Fai.encodeUrl(cacctVal));


			    	var verCode_mailAcct = code;
			        if(true){
			            var encrypt = new JSEncrypt();
			            if(typeof(verCode_mailAcct) != "undefined" && faiEncrypt_key){
			                encrypt.setPublicKey(faiEncrypt_key);
			                verCode_mailAcct = encrypt.encrypt(verCode_mailAcct);
			            }
			        }
					params.push("&mailReg_mobile=" + mobile );
					params.push("&verCode_mailAcct=" + verCode_mailAcct );
					params.push("&mailRegAcct=" + true );
					showSuc($mobileCodeLine, '正在校验手机号码...');
					xhr = $.ajax({
			            type: "post",//使用post方法访问后台
			            url: '/ajax/reg_h.jsp?cmd=vailMail_mobile',
			            data: params.join('') ,
			            error: function(){
			            	xhr = null;
			            },
			            success: function(result){
			            	xhr = null;
			                var result = jQuery.parseJSON(result);
			                if(result.success) {
			                 	verifiedMobile = mobile;
			                 	verifiedMobileList.push(verifiedMobile);
			                 	$mobileCodeLine.hide();
								$mobile.attr('disabled', 'disabled');
								showSuc($mobileLine);
			                 	if(typeof callback == 'function'){
			                 		callback(verifiedMobile);
			                 	}
			                }else{
			                	showErr($mobileCodeLine, result.msg);
			                }
			            }
			        });
				}
			})();

			return {
				init: function(_biz){
					biz = _biz;
					initUI();
				},
				login: function(){
					var loginHref = "//i.fkw.com";
				    if(biz == Biz.HD){
				        loginHref += "?f_hd=true";
				    }else if(biz == Biz.FLYER){
				        loginHref += "?f_flyer=true";
				    }
				    top.location.href = loginHref;
				    if(false){
				    	Fai.logDog(200343,2);
				    }
				}
			}

			function initUI(){
				mMobiVerify.hide();
				if(!Fai.isIE8()){
					$('.u-input .vis').click(function(){
						var $vis = $(this),
							$input = $vis.closest('.u-input').find('input');
						$vis.toggleClass('z-on');
						if($vis.hasClass('z-on')){
							//$input.attr('type', 'text');	//jQ不支持修改type属性
							$input[0].setAttribute('type', 'password');		//IE8也不支持setAttribute
						}else{
							$input[0].setAttribute('type', 'text');
						}
					});
				}

				$('.u-input input[type="text"]:not("#pwd")').blur(function(){
					$(this).val($.trim($(this).val()));
				});

				$('#acct').keyup(function(){
					var $this = $(this);
					var acct = $this.val();
					if(Fai.isMobile(acct)){
						$this.closest('.u-input').find('label').html('手机号码');
					}else if(isEmail(acct)){
						$this.closest('.u-input').find('label').html('邮箱');
						mMobiVerify.show();
					}else{
						$this.closest('.u-input').find('label').html('帐号');
						mMobiVerify.hide();
					}
				});
				$('#acct').change(function(){
					var $this = $(this);
					var acct = $this.val();
					if(Fai.isMobile(acct)){
						$this.closest('.u-input').find('label').html('手机号码');
					}else if(isEmail(acct)){
						$this.closest('.u-input').find('label').html('邮箱');
						mMobiVerify.show();
					}else{
						$this.closest('.u-input').find('label').html('帐号');
						mMobiVerify.hide();
					}
					$this[0].isChecked = false;
					AcctCheckAjax.reset();
					if(checkAcctJs()){
						AcctCheckAjax.ready(function(){
							$this[0].isChecked = true;
						});
					}
				});
				$('#pwd').change(function(){
					checkPwd();
				});
				$('#contact').change(function(){
					checkContact();
				});
				$('#mobile').change(function(){
					var $this = $(this);
					$this[0].isChecked = false;
					if(checkMobile()){
						MobileVerifyAjax.check();
					}
				});
				$('#mobileCode').change(function(){
					checkMobileCode();
				});
				$('#mobileCode').keyup(function(){
					var $this = $(this);
					var $mobile = $('#mobile');
					if($this.val().length == 4){
						$mobile[0].isChecked = false;
						if(checkMobileCode() && checkMobile()){
							MobileVerifyAjax.check();
						}
					}
				});

				$('#verifyCodeBtn').click(function(){
					hideMsg($(this).closest('.u-input'));
					if($('#acct')[0].isChecked){
						getCodeBtnClick(false);
					}else{
						checkAcctJs();
					}
				});
				$('#mobileCodeBtn').click(function(){
					hideMsg($(this).closest('.u-input'));
					if(checkMobile()){
						getCodeBtnClick(true);
					}
				});

				$('#regBtn').click(register);
				//绑定enter键注册
				$dom.keydown(function(event){
					if(event.keyCode == 13 || event.which == 13){
						register();
			            event.preventDefault();
			        }
				});
				//若有浏览器自动补充内容，则触发change事件检查该值
				$dom.find('.u-input input').each(function(){
					var $this = $(this);
					if($this.val()){
						$this.change();
						if($this.attr('id') == 'acct'){
							$this.keyup();
						}
					}
				});

				function getCodeBtnClick(isMailAcct_mobile){
				//isMailAcct_mobile : false 默认， true 邮箱注册用户手机号验证
				    var $btn = $('#verifyCodeBtn');
				    var timeCtrl = $btn[0]._timeCtrl;
				    var cacct =  $.trim($("#acct").val());
				    var acctType_s = (Fai.isMobile(cacct) ? 1 : 2);
				    var dogIdReg = 4000013;

					if(isMailAcct_mobile){
						$btn = $('#mobileCodeBtn');
						timeCtrl = $btn[0]._timeCtrl;
						cacct =  $.trim($("#mobile").val());
						acctType_s = 1;
					}

				    if(!timeCtrl){
				    	timeCtrl = {
							timer: null,
							second: 60,
							clickCnt: 0
						};
						$btn[0]._timeCtrl = timeCtrl;
				    }
				    if(timeCtrl.timer){
						return false;
					}

				    if(timeCtrl.clickCnt > 0){
				        if(acctType_s == 1){	//手机-点击重新获取验证码
				            Fai.logDog(dogIdReg,19);
				            Log.log_reGetCode_mobi();
				        }else if(acctType_s == 2){	//邮箱-点击重新获取验证码
				            Fai.logDog(dogIdReg,15);
				            Log.log_reGetCode_mail();
				        }
				    }else{
				        if(acctType_s == 1){	//手机-点击获取验证码
				            Fai.logDog(dogIdReg,18);
				            Log.log_getCode_mobi();
				        }else if(acctType_s == 2){	//邮箱-点击获取验证码
				            Fai.logDog(dogIdReg,14);
				            Log.log_getCode_mail();
				        }
				    }
				    if(true && false){
				    	mImgVerify.show(isMailAcct_mobile);
				    }else{
				    	$btn.attr('disabled', 'disabled');
				    	sendValidateCode(isMailAcct_mobile, null, null, function(){
				    		$btn.removeAttr('disabled');
				    	});
				    }
				}
			}

			function showErr($uInput, msg){
				$uInput.find('.msg').dragIn().addClass('z-err').find('font').html(msg);
			}
			function showSuc($uInput, msg){
				$uInput.find('.msg').show().removeClass('z-err').find('font').html(msg || '');
			}
			function hideMsg($uInput){
				$uInput.find('.msg').hide();
			}

			function checkAcctJs(){
				var $acct = $('#acct'),
					$uInput = $acct.closest('.u-input'),
					msg = '';
				var acct = $.trim($acct.val());
				if(!acct){
					msg = '请输入手机号码或邮箱';
				}else if(isEmail(acct)){
//					mMobiVerify.show();
				}else if(Fai.isMobile(acct)){
//					mMobiVerify.hide();
				}else{
					msg = '请输入正确的手机号码或邮箱';
					mMobiVerify.hide();
				}

				if(msg){
					showErr($uInput, msg);
					return false;
				}else{
					return true;
				}
			}

			function checkPwd(){
				var $pwd = $('#pwd');
					$uInput = $pwd.closest('.u-input'),
					msg = '';
				var pwd = $pwd.val();
				if(!pwd){
					msg = '请输入密码';
				}else if(pwd.length < 4 || pwd.length > 20){
					msg = '密码由4-20个字符组成，区分大小写';
				}

				if(msg){
					showErr($uInput, msg);
					return false;
				}else{
					showSuc($uInput);
					return true;
				}
			}

			function checkVerifyCode(){
				var $verCode = $('#verifyCode'),
					$uInput = $verCode.closest('.u-input'),
					msg = '';
				var verifyCode = $.trim($verCode.val());
				if(!$('#verifyCodeBtn')[0]._timeCtrl || $('#verifyCodeBtn')[0]._timeCtrl.clickCnt == 0){
					msg = '请先获取验证码';
				}else if(!verifyCode){
					msg = '请输入验证码';
				}else if(verifyCode.length != 4){
					msg = '请输入正确的验证码';
				}

				if(msg){
					showErr($uInput, msg);
					return false;
				}else{
					showSuc($uInput);
					return true;
				}
			}

			function checkMobile(){
				var $mobile = $('#mobile'),
					$uInput = $mobile.closest('.u-input'),
					msg = '';
				var mobile = $.trim($mobile.val());
				if(!mobile){
					msg = '请输入手机号码';
				}else if(!Fai.isMobile(mobile)){
					msg = '请输入正确的11位手机号码';
				}

				if(msg){
					showErr($uInput, msg);
					return false;
				}else{
					$.ajax({
			            type: "post",//使用post方法访问后台
			            url: '/ajax/reg_h.jsp',
			            data:"cmd=isVerifyMobileExist&cacct=" + Fai.encodeUrl(mobile) + "&acctType=1",
			            error: function(){
			            	showErr($uInput, '检验帐号失败，系统繁忙');
			            },
			            success: function(result){
			                var result = jQuery.parseJSON(result);
			                if(result.success && !result.existed) {
								showSuc($uInput, "将绑定手机号，可用于短信码登录");
			                }else{
								hideMsg($uInput);
							}
			            }
			        });
					return true;
				}
			}

			function checkMobileCode(){
				var $mobileCode = $('#mobileCode'),
					$uInput = $mobileCode.closest('.u-input'),
					$mobileCodeBtn = $('#mobileCodeBtn');
					msg = '';
				var mobileCode = $.trim($mobileCode.val());
				if(!$mobileCodeBtn[0]._timeCtrl || $mobileCodeBtn[0]._timeCtrl.clickCnt == 0){
					msg = '请先获取验证码';
				}else if(!mobileCode){
					msg = '请输入验证码';
				}else if(mobileCode.length != 4){
					msg = '请输入正确的验证码';
				}

				if(msg){
					showErr($uInput, msg);
					return false;
				}else{
					return true;
				}
			}

			function checkContact(){
				var $contact = $('#contact'),
					$uInput = $contact.closest('.u-input'),
					msg = '';
				var contact = $.trim($contact.val());
				if(!contact){
					msg = '请输入联系人';
				}

				if(msg){
					showErr($uInput, msg);
					return false;
				}else{
					showSuc($uInput);
					return true;
				}
			}

			function checkSiteType(){
				var $siteTypeLine = $('#siteTypeLine'),
					$uInput = $siteTypeLine.closest('.u-input'),
					msg = '';
				var siteType = $("input[name=siteType]:checked").val();
				if(!siteType || typeof(siteType) == "undefined"){
					msg = '请选择想要做的类型';
				}

				if(msg){
					showErr($uInput, msg);
					return false;
				}else{
					showSuc($uInput);
					return true;
				}
			}

			function register(){
			    if(false){
			    	Fai.logDog(200343,1);
				}
			    var $regBtn = $('#regBtn');
			    if(0 == 1 && true && !checkSiteType()){
					return false;
				}
			    if(!$("#agree").attr("checked")){
			    	$('#regMsg').text('您尚未同意服务条款');
			        return false;
			    }else{
			    	$('#regMsg').text('');
			    }

			    var $cacct = $('#acct');			//帐号
			    var cacctVal = $.trim($cacct.val());
			    var $contact = $('#contact');	//联系人
			    var contactVal = $.trim($contact.val());
			    var $pwd = $('#pwd');			//密码
			    var pwdVal = $pwd.val();
			    var $verifyCode = $("#verifyCode");	//验证码
			    var verifyCodeVal = $verifyCode.val();
			    var $mobile = $('#mobile');
			    var mobileVal = $.trim($mobile.val());
			    var siteType = $("input[name=siteType]:checked").val();
			    var mailRegAcct = isEmail(cacctVal);	//是否为邮箱注册的

			    var valid = true;
			    //检查帐号
			    if(!checkAcctJs() || !$cacct[0].isChecked){
			    	valid = false;
			    	$cacct.focus();
			    	return false;
			    }
			    //检查密码
			    if(!checkPwd()){
			    	valid = false;
			    	$pwd.focus();
			    	return false;
			    }
			    //检查验证码
			    if($('#verifyCodeLine').is(':visible') && !checkVerifyCode()){
			    	valid = false;
			    	$verifyCode.focus();
			    	return false;
			    }
			    //邮箱注册时，判断是否已验证手机号
			    if(mailRegAcct && !MobileVerifyAjax.getMobile()){
			    	valid = false;
			    	showErr($mobile.closest('.u-input'), '请先进行手机号验证');
			    	$mobile.focus();
			    	return false;
			    }
				//推荐链接注册时，检查联系人
			    if(false && !checkContact()){
			        valid = false;
			        $contact.focus();
			    	return false;
			    }
			    if(!valid){
			        return false;
			    }

	            if(verifyCodeVal && faiEncrypt_key){
	            	var encrypt = new JSEncrypt();
	                encrypt.setPublicKey(faiEncrypt_key);
	                verifyCodeVal = encrypt.encrypt(verifyCodeVal);
	            }

			    var params = [];
			    var site = 0;
			    var hd = 0;
			    var flyer = 0;
			    var wxast = 0;
			    var program = 0;
			    var home = 1;
				var ktu = 0;
			    params.push("cacct=" + Fai.encodeUrl(cacctVal));
			    params.push("&contact=" + Fai.encodeUrl(contactVal));
			    params.push("&pwd=" + Fai.encodeUrl($.md5(pwdVal)));
			    //params.push("&validateCode=" + validateCode);
			    params.push("&verCode=" + verifyCodeVal);
			    params.push("&site=" + site);
			    params.push("&hd=" + hd);
			    params.push("&wxast=" + wxast);
			    params.push("&program=" + program);
			    params.push("&home=" + home);
				params.push("&ktu=" + ktu);
			    params.push("&acctType=" + (mailRegAcct ? 2 : 1));
				params.push("&isComFromHd_Nav=" + false);
				params.push("&fromsite=" + false);
				params.push("&siteType=" + siteType);
				params.push("&fkwRegCountA=false");
			    params.push("&isBdHome=false");
				if( false ){
					params.push("&hdSendCoupCode=");
				}

				//邮箱注册用户验证手机
				if(mailRegAcct){
					params.push("&mailReg_mobile=" + Fai.encodeUrl(mobileVal) );
					params.push("&mailRegAcct=" + true );
					params.push("&emailRegVerifyMobile=" + Fai.encodeUrl(mobileVal) );
				}

			    //增加一个微传单注册
			    params.push("&flyer=" + flyer);



			    params.push("&_ua=" + unionAid + "&_ta=" + trackApp + "&_tp=" + Fai.encodeUrl(trackParam) + "&_td=" + Fai.encodeUrl(trackAD) + "&_kw=" + kwId + "&_audience=" + audience + "&_haoci_rec_word=" + Fai.encodeUrl(haoci_rec_word) + "&_bidurl=" + Fai.encodeUrl(bidurl) + "&_screenType=" + Fai.getScreenType(Fai.Screen().width, Fai.Screen().height));







			    $regBtn.attr('disabled', 'disabled');
			    $('#regMsg').text('正在提交注册信息，请稍候...');
			    //注册流程
			    //手机验证：mailReg_mobile
			    $.ajax({
			        type: "post",//使用post方法访问后台
			        url: '/ajax/reg_h.jsp?cmd=regCorpNewSms&cloneAid='+0+'&newReg='+true,
			        data: params.join('') ,
			        error: function(){
			            $regBtn.removeAttr('disabled');
			            $('#regMsg').text('服务繁忙，请稍候重试');
			            //$("#validateCode").val('');
			        },
			        success: function(result){
			            $regBtn.removeAttr('disabled');
			            $('#regMsg').text('');
			            var result = jQuery.parseJSON(result);
			            if(result.success){
			                var cacct = $("#cacct").val();
			                $.cookie('regSucceedAcct', cacct, {domain: 'fkw.com'});

			                // 写cookie：注册后跳转页面

			                if (jump != 0) {
			                    $.cookie('_regJump', jump, {domain: cookieDomain});
			                }

			                //把短信验证的手机号码塞入cookie created by jser 2017-12-21
			                var phoneNumber = getPhoneNumber(mailRegAcct);
			                setPhoneNumberToJz(phoneNumber, result.aid);

			                //品优统计
			                pyRegisterCvt0(result.aid);

			                //更新token，否则logDog会报“token error”
							if($('#_TOKEN').length > 0){
								$('#_TOKEN').attr('value', result._TOKEN);
							}else{
								$('head').append('<meta id="_TOKEN" value="' + result._TOKEN + '"/>');
							}
							//注册成功
			                if(mailRegAcct){
			                	Log.log_regSuc_mail();
			                }else{
			                	Log.log_regSuc_mobi();
			                }

//			                top.location.href = result.url;//regStat.jsp是在site管理态下的iframe访问的...
							var successUrl = '//www.fkw.com/regSuc.jsp?' + biz + '=1' + '&cloneAid='+0 + '&templateId='+-1;
							if(false){
								successUrl += '&bdHome=1';
							}
							top.location.href = successUrl;
			            }else{
			                if(result.rt == -302){
//			                    showErr($("#regging"), "");
			                } else if(result.rt == -303){
//			                    showErr($("#regging"), "");
			                } else if(result.rt == -301){
			                	$('#regMsg').text('验证码错误或已失效，请重新输入');
                                $('#verifyCodeLine span').show();
                                $('#verifyCodeLine i').css('background-position','-175px 0px')
//			                    showErr($("#regging"), "");
//			                    if(!sendingVerCode){
//			                        showErr($("#verCode"), "验证码错误或已失效，请重新输入");
//			                    }else{
//			                        clearInterval(getCodeTimer);
//			                        if($('#verCode').val() == "" ){
//			                            getCodeTimer = setInterval('GetComeDownTime("2",'+acctType_s+',false)', 1000);
//			                        }else{
//			                            getCodeTimer = setInterval('GetComeDownTime("1",'+acctType_s+',false)', 1000);
//			                        }
//			                    }

			                }else{
			                    $('#regMsg').text(result.msg);
			                }
			            }
			        }
			    });
			}
		})();

		var Log = (function(){
			var biz = Biz.NONE;
			var dogId = 4000087;



			var SrcDef = {
				SITE: 40,
				HD: 60,
				FLYER: 80,
				WXAST: 120,
				PROGRAM: 100,
				KTU: 140
			};
			var WxSrcDef = {
				SITE: 603,
				HD: 605,
				FLYER: 607,
				PROGRAM: 609,
				WXAST: 611,
				KTU: 613
			};

			var srcBase = -1;
			var srcWxBase = 601;
			return {
				init: function(_biz){
					biz = _biz;
					if(biz == Biz.SITE){
						srcBase = SrcDef.SITE;
						srcWxBase = WxSrcDef.SITE;
					}else if(biz == Biz.HD){
						srcBase = SrcDef.HD;
						srcWxBase = WxSrcDef.HD;
					}else if(biz == Biz.FLYER){
						srcBase = SrcDef.FLYER;
						srcWxBase = WxSrcDef.FLYER;
					}else if(biz == Biz.WXAST){
						srcBase = SrcDef.WXAST;
						srcWxBase = WxSrcDef.WXAST;
					}else if(biz == Biz.PROGRAM){
						srcBase = SrcDef.PROGRAM;
						srcWxBase = WxSrcDef.PROGRAM;
					}else if(biz == Biz.KTU){
						srcBase = SrcDef.KTU;
						srcWxBase = WxSrcDef.KTU;
					}
				},

				//微信扫码注册-点击
				wx_Scanner: function(){
					Fai.logDog(dogId, srcWxBase);
				},

				//注册页-访问量
				log_visit: function(){
					if(biz == Biz.NONE){
						Fai.logDog(dogId, 1);
					}else if(srcBase != -1){
						Fai.logDog(dogId, srcBase + 1);
					}
				},
				//手机-点击获取验证码
				log_getCode_mobi: function(){
					if(biz == Biz.NONE){
		            	Fai.logDog(dogId, 10);
		            }else if(srcBase != -1){
		            	Fai.logDog(dogId, srcBase + 6);
		            }
				},
				//邮箱-点击获取验证码
				log_getCode_mail: function(){
					if(biz == Biz.NONE){
		            	Fai.logDog(dogId, 13);
		            }else if(srcBase != -1){
		            	Fai.logDog(dogId, srcBase + 9);
		            }
				},
				//手机-点击重新获取验证码
				log_reGetCode_mobi: function(){
					if(biz == Biz.NONE){
		            	Fai.logDog(dogId, 11);
		            }else if(srcBase != -1){
		            	Fai.logDog(dogId, srcBase + 7);
		            }
				},
				//邮箱-点击重新获取验证码
				log_reGetCode_mail: function(){
					if(biz == Biz.NONE){
		            	Fai.logDog(dogId, 14);
		            }else if(srcBase != -1){
		            	Fai.logDog(dogId, srcBase + 10);
		            }
				},
				//手机-成功发送验证码
				log_sentCode_mobi: function(){
					if(biz == Biz.NONE){
            			Fai.logDog(dogId, 12);
            		}else if(srcBase != -1){
            			Fai.logDog(dogId, srcBase + 8);
            		}
				},
				//邮箱-成功发送验证码
				log_sentCode_mail: function(){
					if(biz == Biz.NONE){
            			Fai.logDog(dogId, 15);
            		}else if(srcBase != -1){
            			Fai.logDog(dogId, srcBase + 11);
            		}
				},
				//手机-注册成功
				log_regSuc_mobi: function(){
					if(biz == Biz.NONE){
                		Fai.logDog(dogId, 2);
                	}else if(srcBase != -1){
                		Fai.logDog(dogId, srcBase + 2);
                	}
				},
				//邮箱-注册成功
				log_regSuc_mail: function(){
					if(biz == Biz.NONE){
                		Fai.logDog(dogId, 3);
                	}else if(srcBase != -1){
                		Fai.logDog(dogId, srcBase + 3);
                	}
				}
			}
		})();

		//简单优化一下邮箱的校验规则，不要什么字符串都直接进Fai.isEmail校验，字符越长就越卡。
		function isEmail(email){
			if(!email){
				return false;
			}
			if(/^\d+$/.test(email)){
				return false;
			}
			if(!/.+@.+\..+/.test(email)){
				return false;
			}
			return Fai.isEmail(email);
		}

		$.fn.dragIn = function(){
			var _this = this;
			_this.show().addClass('z-dragIn');
			setTimeout(function(){
				_this.removeClass('z-dragIn');
			}, 1000);
			return _this;
		};

		function sendValidateCode(isMailAcct_mobile, imgCode, callbackSuc, callbackErr){
		//isMailAcct_mobile : false 默认， true 邮箱注册用户手机号验证
	    	var $btn = $('#verifyCodeBtn');
	    	var $codeInput = $('#verifyCode');
	    	var $codeMsg = $('#verifyCodeMsg');
	    	var $resendNotice = $('#resendNotice1');
		    var timeCtrl = $btn[0]._timeCtrl;
		    var cacct =  $.trim($("#acct").val());
		    var acctType_s = (Fai.isMobile(cacct) ? 1 : 2);
		    if(isMailAcct_mobile){
		    	$btn = $('#mobileCodeBtn');
		    	$codeInput = $('#mobileCode');
		    	$codeMsg = $('#mobileCodeMsg');
	    		$resendNotice = $('#resendNotice2');
		    	timeCtrl = $btn[0]._timeCtrl;
		    	cacct =  $.trim($("#mobile").val());
		    	acctType_s = 1;
		    }
		    if(!timeCtrl || timeCtrl.timer){
		    	return false;
		    }

	    	var validateCode = imgCode;
	    	if(validateCode){
            	var encrypt = new JSEncrypt();
                encrypt.setPublicKey(faiEncrypt_key);
                validateCode = encrypt.encrypt(validateCode);
            }
		    var cacctCode = '';
		    var encrypt1 = new JSEncrypt();

		        encrypt1 = new JSEncrypt1();

		    encrypt1.setPublicKey(faiEncrypt_key);
		    cacctCode = encrypt1.encrypt(cacct);
	    	$.ajax({
		        type:"post",
		        url:"/ajax/reg_h.jsp?cmd=sendValidateCode&hd=0&flyer=0&wxast=0",
		        data: {
		        	cacct: cacct,
		        	acctType: acctType_s,
		        	isResend: timeCtrl.clickCnt > 0,
		        	validateCode: validateCode || '',
		        	isNewSms: true,
		        	cacctCode: cacctCode,
		        	isMailAcct: isMailAcct_mobile
		        },
		        error: function(){
		        	if(typeof callbackErr == 'function'){
	                	callbackErr('系统繁忙');
	                }
		        },
		        success: function(result){
		            var result = jQuery.parseJSON(result);
		            if(result.success){
		            	if(acctType_s == 1){
		            		//手机-成功发送验证码
		            		Log.log_sentCode_mobi();
		            	}else{
		            		//邮箱-成功发送验证码
		            		Log.log_sentCode_mail();
		            	}

		                //operatePopupVc('false');
		                $btn.attr('disabled', 'disabled');
		                clearInterval(timeCtrl.timer);
		                timeCtrl.clickCnt++;
		                timeCtrl.second = 60;
		                timeCtrl.timer = setInterval(function(){
		                	if(timeCtrl.second > 0){
		                		$btn.html('已发送(' + timeCtrl.second + ')');
		                		timeCtrl.second--;
		                	}else{
		                		$btn.html('重新获取').removeAttr('disabled');
		                		clearInterval(timeCtrl.timer);
		                		timeCtrl.timer = null;
		                	}
		                }, 1000);

		                $btn.closest('.u-input').find('.msg').removeClass('z-err').show();
		                var cacctStr = cacct;
		                if(acctType_s == 2 && cacct.length > 15){
		                	cacctStr = cacct.substring(0, 6) + '***' + cacct.substring(cacct.length - 6);
		                }
	                	var codeMsgHtml = '验证码已发送到' + (acctType_s == 1 ? '手机' : '邮箱') + cacctStr;
	                	if(timeCtrl.clickCnt > 1){
	                		if(acctType_s == 1){

	                				$resendNotice.html('仍未收到验证码？请点击查看> <a class="getTips" onclick="showCodeTips()" href="javaScript:void(0);">获取验证码指引</a>');

	                			//codeMsgHtml += '。如果还是没收到，请联系客服<a class="consultQQ" target="_blank" href="/qq.jsp?s=209"></a>';
	                		}else{
	                			$resendNotice.html('若仍未收到验证码，建议到垃圾箱查看');
	                			//codeMsgHtml += '。如果还是没收到，建议到垃圾箱查看';
	                		}
	                		$resendNotice.show();
	                	}
	                	$codeMsg.html(codeMsgHtml);
		                if(validateCode){
		                	mImgVerify.close();
		                }
		                $codeInput.focus();
		                if(typeof callbackSuc == 'function'){
		                	callbackSuc();
		                }
		            }else{
		            	var msg = result.msg;
	                	if(validateCode){
	                		if(result.rt == -401){
	                			msg = '图片验证码错误，请重新输入';
	                		}
	                		mImgVerify.setMsg(msg);
	                		mImgVerify.refresh();
	                	}else{
	                		if(result.rt == -401){
	                			mImgVerify.show(isMailAcct_mobile);
	                		}else{
	                			$btn.closest('.u-input').find('.msg').addClass('z-err').show();
	                			$codeMsg.html(result.msg);
	                		}
	                	}
	                	if(typeof callbackErr == 'function'){
		                	callbackErr(msg);
		                }
		            }
		        }
		    });
	    }

		function getPhoneNumber(isEmailReg){
		    var phoneNumber = "";

		    if(isEmailReg){
		        //拿【手机号码/邮箱】里面的表单值
		        phoneNumber = $('#mailReg_mobile').val();
		    }else{
		        //拿【手机号码】里面的表单值
		        phoneNumber = $('#regAcct').val();
		    }

		    phoneNumber = $.trim(phoneNumber);

		    return phoneNumber;
		}
		//把号码存储到jz的域名下
		function setPhoneNumberToJz(phoneNumber, aid, callback){
		    //创建一个iframe，访问fkjz，通过url传参把cookie带过去
		    var urlForSetCookie = "//jz.fkw.com/reg_tmp.jsp?_regValidatePhone="+ phoneNumber+"&_regValidateAid="+ aid;
		    var $iframe = $('<iframe>');
		    $iframe.attr("src", urlForSetCookie);
		    //视觉不可见
		    $iframe.css({
		        position:'absolute',
		        width: 0,
		        height: 0,
		        border: 'none'
		    });
		    //事件注册加载
		    $iframe.load(function(){
		        if($.isFunction(callback)){
		            callback();
		        }
		    }).error(function(){
		    });
		    $('body').append($iframe);
		}
		//品优统计
		function pyRegisterCvt0(_orderno){
		    var w=window,d=document,e=encodeURIComponent;
		    var b=location.href,c=d.referrer,f,g=d.cookie,h=g.match(/(^|;)\s*ipycookie=([^;]*)/),i=g.match(/(^|;)\s*ipysession=([^;]*)/);
		    if (w.parent!=w){f=b;b=c;c=f;};u='//stats.ipinyou.com/cvt?a='+e('bts.Wks.76KFZOZEiE1DwonZ6R5_A_')+'&c='+e(h?h[2]:'')+'&s='+e(i?i[2].match(/jump\%3D(\d+)/)[1]:'')+'&u='+e(b)+'&r='+e(c)+'&rd='+(new Date()).getTime()+'&OrderNo='+e(_orderno)+'&e=';
		    (new Image()).src=u;
		}

		function showCodeTips(){
			$(".codeTips").show();
		}

		function bindWeChat(){
			//创建一个iframe，访问微信授权二维码
		    //var urlForSetCookie = "https://open.weixin.qq.com/connect/qrconnect?appid=wx4d4e63dc215c39a6&scope=snsapi_login&redirect_uri=https://i.fkw.com/bindAccountNew.jsp&state=827&href=https://ps.faisys.com/css/wxReg.min.css?v=201810160948";
		    var bindUrl = "https://i.fkw.com/bindAccountNew.jsp&state=827&href=https://ps.faisys.com/css/wxReg.min.css?v=201810160948";
		    var urlForSetCookie = "https://open.weixin.qq.com/connect/qrconnect?appid=wx4d4e63dc215c39a6&scope=snsapi_login&redirect_uri=" + bindUrl;

		    var $iframe = $('<iframe>');
		    $iframe.attr("src", urlForSetCookie);
		    //视觉不可见
		    $iframe.css({
		        height: '280px',
		        border: 'none',
		    });

		  	$('.contentIframe').empty();
		    $('.contentIframe').append($iframe);
		    $('.contentIframe').show();
		    $('#contentId').hide();
		    $('.bottomBar').hide();
		    $('.wxRegTips').hide();
		    $('.userRegTips').show();
		    $('.login_WeChatTips').show();
		    $('.regBox').css("height","440px");
		    $('.m-regForm .toLogin').css("position","relative");

		    Log.wx_Scanner();	//微信扫码注册-点击logDog
		}

		function userReg(){
		    $('.contentIframe').hide();
		    $('#contentId').show();
		    $('.bottomBar').show();
		    $('.wxRegTips').show();
		    $('.userRegTips').hide();
		    $('.regBox').css("height","auto");
		    $('.login_WeChatTips').hide();
		}


	</script>
</body>

</html>


	</body>

	<script>
		$(function(){

				$(".fk_service").remove();

		})
	</script>
</html>