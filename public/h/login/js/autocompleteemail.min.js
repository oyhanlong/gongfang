window.Email=Email={};Email.autoCompleteEmail=function(c){var f=["@qq.com","@163.com","@126.com","@sina.cn","@foxmail.com"];var o=0;var j=0;var k=f.length;function a(){var q=$("#"+c);var p=document.getElementById("autocompleteemailDiv");var i=0,r=0;h=q.outerHeight();i=q.offset().left;r=q.offset().top;p.style.left=i+"px";p.style.top=r+h+"px";p.style.display="block"}function l(){var i=document.getElementById("autocompleteemailDiv");i.style.display="none";b.removeClass("choice")}function e(i,p){var q=$("div #"+i).text().replace(/^\s\s\*/,"").replace(/\s\s*$/,"");p.val("");p.val(q)}Email.setStyle=function(i){j=o;o=$(i).attr("id");$(i).css("background-color","#CCC");$("div #"+j).css("background-color","white");e(o,$("#"+c))};Email.cancelStyle=function(i){$(i).css("background-color","white")};function n(){k=b.find(".emailText").size();o=o>k?1:o;o=o<1?k:o;$("div #"+o).css("background-color","#CCC").addClass("choice");$("div #"+j).css("background-color","white")}var m=$("#"+c);m.blur(l);$("body").append("<div id='autocompleteemailDiv'><div class='emailType' id='emailType'>请选择邮箱类型</div></div>");var b=$("#autocompleteemailDiv");for(var g=0;g<f.length;g++){b.append("<div class='emailText' id='"+(g+1).toString()+"' onmouseover='Email.setStyle(this)' onmouseout='Email.cancelStyle(this)' >"+f[g]+"</div>")}function d(){var s=m.val().replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(s.indexOf("@")>-1){var v=s.substring(s.indexOf("@"),s.length);var u=v.length;var p=f.length;while(p--){$("div #"+(p+1)).remove();if(p<-1){break}}var w=false;var r=0;for(var q in f){if(v==f[q].substring(0,u)){b.append("<div class='emailText' id='"+(r+1).toString()+"' onmouseover='Email.setStyle(this)' onmouseout='Email.cancelStyle(this)' >"+s.substring(0,s.indexOf("@"))+f[parseInt(q)]+"</div>");r++;w=true}}if(!w){$("#emailType").css("display","none")}else{$("#emailType").css("display","block")}return}else{for(var t=0;t<f.length;t++){$("div #"+(t+1)).remove();b.append("<div class='emailText' id='"+(t+1).toString()+"' onmouseover='Email.setStyle(this)' onmouseout='Email.cancelStyle(this)' ></div>")}}for(var t=1;t<=f.length;t++){$("div #"+t).text("").text(s+f[t-1])}if(s==""){l()}}m.keyup(function(q){var i=q||window.event;var s=i.keyCode;if(s==40){a();j=o;o++;n();e(o,m)}if(s==38){j=o;o--;n();e(o,m)}if(s==13){var r=b.find(".choice");if(r.length==0){return}e(o,m);l()}if(s==27){l()}var p=(s>=65&&s<=90)||(s>=97&&s<=122)||(s>=48&&s<=56);if(p){a();d()}if(s==8||s==46){a();d()}if(s==32){d()}})};